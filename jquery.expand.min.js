(function(e){var t=function(t,n){var r=this.$element=e(t);this.opts=n;this.init()};t.prototype={constructor:t,init:function(){this.bind()},bind:function(){var e=this;this.getAttributes();this.$element.addClass(this.opts.classPrefix);this.$element.on("focus",function(){if(!e.isOpen()){e.expand()}});this.$element.on("blur",function(){if(!e.hasContent()){e.contract()}})},getAttributes:function(){this.opts.classPrefix=this.$element.attr("data-expand-class")?this.$element.attr("data-expand-class"):this.opts.classPrefix},expand:function(){this.$element.addClass(this.opts.classPrefix+"--active")},contract:function(){this.$element.removeClass(this.opts.classPrefix+"--active")},isOpen:function(){return this.$element.hasClass(this.opts.classPrefix+"--active")},hasContent:function(){return this.$element.val()!=""}};e.fn.expand=function(n,r){var i;if(typeof n==="object"&&n){i=e.extend(true,{},e.fn.expand.defaults,n)}else{i=e.extend(true,{},e.fn.expand.defaults)}return this.each(function(){var s=e(this),o=s.data("expand");if(!o){s.data("expand",o=new t(this,i))}if(typeof n==="string"){o[n](r)}})};e.fn.expand.defaults={classPrefix:"expand"};e(window).load(function(){e("[data-expand]").expand()})})(jQuery)
